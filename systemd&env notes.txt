sudo vim /etc/app.env
```
DB_URL='postgresql://postgres:kellybluebook@database-1.cluster-ro-cvu2u86aui5t.us-west-2.rds.amazonaws.com/seattlecars
```

sudo chmod 600 /etc/app.env
sudo chown ec2-user:ec2-user /etc/app.env

sudo vim /etc/systemd/system/wheelswatcherapp.service
```
[Unit]
Description=Node.js App
After=network.target multi-user.target

[Service]
User=ec2-user
WorkingDirectory=/home/ec2-user/wheelswatcher/wheelswatcher
ExecStart=/usr/bin/npm start
Restart=always
Environment=NODE_ENV=production
EnvironmentFile=/etc/app.env
StandardOutput=syslog
StandardError=syslog
SyslogIdentifier=wheelswatcherapp

[Install]
WantedBy=multi-user.target
```

sudo systemctl daemon-reload
sudo systemctl enable wheelswatcherapp.service
sudo systemctl start wheelswatcherapp.service

npm run build
sudo systemctl restart wheelswatcherapp.service



[ec2-user@ip-172-31-13-155 wheelswatcher-app]$ vi /etc/systemd/system/wheelswatcher-combined.service
[ec2-user@ip-172-31-13-155 wheelswatcher-app]$ sudo vi /etc/systemd/system/wheelswatcher-combined.service
[ec2-user@ip-172-31-13-155 wheelswatcher-app]$ cat /etc/systemd/system/wheelswatcher-combined.service
[Unit]
Description=Node.js Server and React App for wheelswatcher
After=network.target

[Service]
WorkingDirectory=/home/ec2-user/wheelswatcher/wheelswatcher-app
ExecStart=/usr/bin/node /home/ec2-user/wheelswatcher/wheelswatcher-app/server.js
Restart=on-failure
User=ec2-user
Group=ec2-user
Environment=NODE_ENV=production
StandardOutput=journal
StandardError=journal
SyslogIdentifier=wheelswatcher-combined

[Install]
WantedBy=multi-user.target

sudo systemctl daemon-reexec
sudo systemctl daemon-reload
sudo systemctl restart wheelswatcher-combined
sudo systemctl status wheelswatcher-combined
